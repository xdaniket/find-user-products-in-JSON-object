<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body></body>
</html>
<script>
  // Q: How we can merge the two object and form a final output ?

  // Step 1. Create an empty array for showing the result.
  // Step 2. Ittrate a loop on users, nd inside it create an object nd defined that keys which is shown in the result.
  // Step 3. Ittrate a loop on orders, nd inside it create an object nd defined that keys which is shown in the result.
  // Step 4. Make a condition if inside in our frst loop the value of id, is matched in the second loop of value of userid so,
  // Step 5. Empty array inside an frst loop key is orders, so push that whole orders object in that empty array.
  // Step 6. After all data push inside an empty array, we will have to push that whole array in our outside (final) array for showing the result.

  const users = [
    {
      id: 1,
      name: "Ankit Jain",
    },
    {
      id: 2,
      name: "Shankar Sahu",
    },
    {
      id: 3,
      name: "Akash Kushwaha",
    },
  ];

  const orders = [
    {
      orderId: 101,
      userId: 1,
      productId: 123,
      productName: "Apple iPhone 14 Pro Max",
    },
    {
      orderId: 102,
      userId: 1,
      productId: 124,
      productName: "Apple MacBook Pro",
    },
    {
      orderId: 103,
      userId: 1,
      productId: 125,
      productName: "Apple iWatch 7 series",
    },
    {
      orderId: 104,
      userId: 2,
      productId: 126,
      productName: "Samsung S22",
    },
  ];

  // Out-Put :

  // const final = [
  //   {
  //     userId: 1,
  //     userName: "Ankit Jain",
  //     orders: [
  //       {
  //         orderId: 101,
  //         productId: 123,
  //         productName: "Apple iPhone 14 Pro Max",
  //       },
  //       {
  //         orderId: 102,
  //         productId: 124,
  //         productName: "Apple MacBook Pro",
  //       },
  //       {
  //         orderId: 103,
  //         productId: 125,
  //         productName: "Apple iWatch 7 series",
  //       },
  //     ],
  //   },
  //   {
  //     userId: 2,
  //     userName: "Shankar Sahu",
  //     orders: [
  //       {
  //         orderId: 104,
  //         userId: 2,
  //         productId: 126,
  //         productName: "Samsung S22",
  //       },
  //     ],
  //   },
  //   {
  //     userId: 3,
  //     userName: "Akash Kushwaha",
  //     orders: [],
  //   },
  // ];

  let final = [];
  for (let i = 0; i < users.length; i++) {
    const newUser = {
      userId: users[i].id,
      userName: users[i].name,
      orders: [],
    };
    for (let j = 0; j < orders.length; j++) {
      const newOrder = {
        orderId: orders[j].orderId,
        productId: orders[j].productId,
        productName: orders[j].productName,
      };
      if (users[i].id === orders[j].userId) {
        newUser.orders.push(orders[j]);
      }
    }
    final.push(newUser);
  }
  console.log("final :", final);
</script>
